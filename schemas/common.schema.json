{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "https://www.adplogger.no/json-schema/common",
    "title": "Common",
    "description": "Common foundation for all adplogger objects.",
    "type": "object",
    "$context": {
        "id": "@id",
        "type": "@type",
        "@vocab": "https://www.adplogger.no/json-schema/common/#"
    },
    "properties": {
        "domainBrowserId": {
            "$ref": "definitions.schema.json#/definitions/uuid4",
            "description": "First party cookie based browser ID. Replaces a_brws_id"
        },
        "domainVisitId": {
            "$ref": "definitions.schema.json#/definitions/uuid4",
            "description": "First party cookie based visit ID. Replaces a_brws_visit_id. Unique for each browser session"
        },
        "pageUrl": {
            "type": "string",
            "format": "uri",
            "description": "Page URL. Includes all of url, including hash. For workers this should be the location of the worker"
        },
        "pageViewId": {
            "$ref": "definitions.schema.json#/definitions/uuid4",
            "description": "Page view ID, generated by adplogger"
        },
        "userKey": {
            "$ref": "definitions.schema.json#/definitions/uuid4",
            "description": "User key"
        },
        "payload": {
            "type": "object",
            "description": "Payload of the adplogger object"
        },
        "schemaName": {
            "type": "string",
            "default": "common"
        }
    },
    "required": ["domainBrowserId", "domainVisitId", "pageUrl", "pageViewId", "payload", "schemaName"]
}
